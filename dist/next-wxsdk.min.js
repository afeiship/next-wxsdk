!function(e){var n=e.nx||require("next-js-core2"),o=e.wx||require("wechat-jssdk"),i=e.Q||require("q"),r=n.Qqueue||require("next-qqueue"),t=["ready","checkJsApi","error","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","chooseImage","previewImage","uploadImage","closeWindow","hideOptionMenu","showOptionMenu","startRecord","stopRecord","onVoiceRecordEnd","openLocation","getLocation","scanQRCode","chooseWXPay","openAdreess"],a=n.declare("nx.Wxsdk",{statics:{VERSION:"1.2.0",wx:o,SHARE_TAYPES:["Timeline","AppMessage","QQ","Weibo","QZone"],defaults:{debug:!0,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","onMenuShareWeibo","chooseImage","previewImage","uploadImage","closeWindow","hideOptionMenu","showOptionMenu","openLocation","getLocation","scanQRCode","chooseWXPay","openAdreess"]},__config:null,param:function(){return{url:e.location.href.split("#")[0]}},initialize:function(e){switch(this.__config=e,!0){case n.isBoolean(e.optionMenu):o.ready(function(){this.optionMenu(e.optionMenu)})}},config:function(e,i){var r=n.mix(a.defaults,e,i);a.initialize(r),void 0!==o?o.config(r):n.error('Must import this wx api script: <script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js" charset="utf-8"></script>')},share:function(e,n){(n||a.SHARE_TAYPES).forEach(function(n){var i="onMenuShare"+n;o[i](e)})},optionMenu:function(e){return e?o.showOptionMenu():o.hideOptionMenu()},syncUploadImage:function(e){var r=i.defer();return o.uploadImage(n.mix(e,{success:function(e){r.resolve(e)},error:function(e){r.reject(e)}})),r.promise},syncUploadImages:function(e,n){var o=[];return e.forEach(function(e){n.localId=e,o.push(n)}),r.queue(o,a.syncUploadImage)}}});t.forEach(function(e){n.defineStatic(a,e,o[e])}),"undefined"!=typeof module&&module.exports&&(module.exports=a)}(this);